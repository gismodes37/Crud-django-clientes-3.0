<div class="table-responsive">
    <table class="table table-striped table-hover table-sm" style="width: 100%;">
        <thead class="table-dark">
            <tr>
                <tr>
                    <td class="text-center">N° de Registro</td>  <!-- Mostrar número de registro -->
                    <th class="text-center">Nombres</th>
                    <th class="text-center">Apellidos</th>
                    <th class="text-center">Teléfono</th>
                    <th class="text-center">Email</th>
                    <th class="text-center">Razón Social</th>
                    <th class="text-center">Rut</th>
                    <th class="text-center">Fecha de Registro</th>
                    <th class="text-center">Creado Por</th>
                    <th class="text-center">Modificado Por</th>
                    <th class="text-center">PDF</th>
                    <th class="text-center" colSpan="3" class="centrado">Acciones</th>
                </tr>
            </tr>
        </thead>
        <tbody>
        {% if contacts %}
            {% for contact in contacts %}
                <tr>
                    <td style="white-space: nowrap; width: auto;" class="text-center">{{ contact.numero_registro }}</td>  <!-- Mostrar número de registro -->
                    <td style="white-space: nowrap; width: auto;">{{ contact.nombres }}</td>
                    <td style="white-space: nowrap; width: auto;">{{ contact.apellidos }}</td>
                    <td style="white-space: nowrap; width: auto;">{{ contact.telefono }}</td>
                    <td>{{ contact.email }}</td>
                    <td style="white-space: nowrap; width: auto;" >{{ contact.razon_social }}</td>
                    <td style="white-space: nowrap; width: auto;">{{ contact.rut}}</td>
                    <td>{{ contact.fecha_registro|date:"d/m/Y" }}</td>
                    <td>{{ contact.creado_por.username }}</td>
                    <td>{{ contact.modificado_por.username|default:"" }}</td>
                    <td class="text-center">
                        {% if contact.pdf %}
                        <a href="{{ contact.pdf.url }}" 
                        target="_blank" 
                        class="btn btn-sm btn-danger"
                        data-bs-toggle="tooltip" 
                        data-bs-placement="top" 
                        title="Ver archivo PDF">
                         <i class="fas fa-file-pdf"></i>
                        </a>
                        {% else %}
                            <span class="text-muted">Sin PDF</span>
                        {% endif %}
                    </td>
                    <td class="text-center">
                        <a href="{% url 'contact_detail' contact.pk %}" 
                           class="btn btn-sm btn-info" 
                           data-bs-toggle="tooltip" 
                           data-bs-placement="top" 
                           title="Ver detalles">
                            <i class="fas fa-eye"></i>
                        </a>
                    </td>
                    <td class="text-center">
                        <a href="{% url 'contact_update' contact.pk %}" 
                           class="btn btn-sm btn-warning" 
                           data-bs-toggle="tooltip" 
                           title="Editar">
                            <i class="fas fa-edit"></i>
                        </a>
                    </td>
                    <td class="text-center">
                        <a href="{% url 'contact_delete' contact.pk %}" 
                           class="btn btn-sm btn-danger" 
                           data-bs-toggle="tooltip" 
                           title="Eliminar">
                            <i class="fas fa-trash"></i>
                        </a>
                    </td>
                </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td colspan="12" class="text-center">No hay contactos para mostrar.</td>
            </tr>
        {% endif %}
        </tbody>
    </table>
</div>